import { Component, OnInit } from '@angular/core';
import { PagSimulatorAPIService } from '../../../services/pag-simulator-api.service';

@Component({
  selector: 'app-main-output',
  templateUrl: './main-output.component.html',
  styleUrls: ['./main-output.component.css']
})
export class MainOutputComponent implements OnInit {

  paso = 0;

  resultado: any = JSON.parse("{}");

  resultadoIsEmpty = true;

  constructor(private pagSimulatorAPIService: PagSimulatorAPIService) { }
  // resultado = JSON.parse('{"options":{"addresses":["0","4","1","2","0","1","3","0","3","1","2","1","4","1","2","0","1","3","0","3","1","2","1","4","1","2","0","1","3","0","3","1","2","1","4","1","2","0","1","3","0","3","1","2","1","4","1","2","0","1","3","0","3","1","2","1"],"numaddrs":10,"policy":"FIFO","clockbits":2,"cachesize":3,"maxpage":10,"seed":0},"stats":{"hits":27,"misses":29,"hitrate":48.214285714285715},"steps":[{"access":0,"response":"MISS","leftStr":"FirstIn","memory":[0],"riteStr":"Lastin ","victim":"-","hits":0,"miss":1},{"access":4,"response":"MISS","leftStr":"FirstIn","memory":[0,4],"riteStr":"Lastin ","victim":"-","hits":0,"miss":2},{"access":1,"response":"MISS","leftStr":"FirstIn","memory":[0,4,1],"riteStr":"Lastin ","victim":"-","hits":0,"miss":3},{"access":2,"response":"MISS","leftStr":"FirstIn","memory":[4,1,2],"riteStr":"Lastin ","victim":"0","hits":0,"miss":4},{"access":0,"response":"MISS","leftStr":"FirstIn","memory":[1,2,0],"riteStr":"Lastin ","victim":"4","hits":0,"miss":5},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[1,2,0],"riteStr":"Lastin ","victim":"-","hits":1,"miss":5},{"access":3,"response":"MISS","leftStr":"FirstIn","memory":[2,0,3],"riteStr":"Lastin ","victim":"1","hits":1,"miss":6},{"access":0,"response":"HIT ","leftStr":"FirstIn","memory":[2,0,3],"riteStr":"Lastin ","victim":"-","hits":2,"miss":6},{"access":3,"response":"HIT ","leftStr":"FirstIn","memory":[2,0,3],"riteStr":"Lastin ","victim":"-","hits":3,"miss":6},{"access":1,"response":"MISS","leftStr":"FirstIn","memory":[0,3,1],"riteStr":"Lastin ","victim":"2","hits":3,"miss":7},{"access":2,"response":"MISS","leftStr":"FirstIn","memory":[3,1,2],"riteStr":"Lastin ","victim":"0","hits":3,"miss":8},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[3,1,2],"riteStr":"Lastin ","victim":"-","hits":4,"miss":8},{"access":4,"response":"MISS","leftStr":"FirstIn","memory":[1,2,4],"riteStr":"Lastin ","victim":"3","hits":4,"miss":9},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[1,2,4],"riteStr":"Lastin ","victim":"-","hits":5,"miss":9},{"access":2,"response":"HIT ","leftStr":"FirstIn","memory":[1,2,4],"riteStr":"Lastin ","victim":"-","hits":6,"miss":9},{"access":0,"response":"MISS","leftStr":"FirstIn","memory":[2,4,0],"riteStr":"Lastin ","victim":"1","hits":6,"miss":10},{"access":1,"response":"MISS","leftStr":"FirstIn","memory":[4,0,1],"riteStr":"Lastin ","victim":"2","hits":6,"miss":11},{"access":3,"response":"MISS","leftStr":"FirstIn","memory":[0,1,3],"riteStr":"Lastin ","victim":"4","hits":6,"miss":12},{"access":0,"response":"HIT ","leftStr":"FirstIn","memory":[0,1,3],"riteStr":"Lastin ","victim":"-","hits":7,"miss":12},{"access":3,"response":"HIT ","leftStr":"FirstIn","memory":[0,1,3],"riteStr":"Lastin ","victim":"-","hits":8,"miss":12},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[0,1,3],"riteStr":"Lastin ","victim":"-","hits":9,"miss":12},{"access":2,"response":"MISS","leftStr":"FirstIn","memory":[1,3,2],"riteStr":"Lastin ","victim":"0","hits":9,"miss":13},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[1,3,2],"riteStr":"Lastin ","victim":"-","hits":10,"miss":13},{"access":4,"response":"MISS","leftStr":"FirstIn","memory":[3,2,4],"riteStr":"Lastin ","victim":"1","hits":10,"miss":14},{"access":1,"response":"MISS","leftStr":"FirstIn","memory":[2,4,1],"riteStr":"Lastin ","victim":"3","hits":10,"miss":15},{"access":2,"response":"HIT ","leftStr":"FirstIn","memory":[2,4,1],"riteStr":"Lastin ","victim":"-","hits":11,"miss":15},{"access":0,"response":"MISS","leftStr":"FirstIn","memory":[4,1,0],"riteStr":"Lastin ","victim":"2","hits":11,"miss":16},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[4,1,0],"riteStr":"Lastin ","victim":"-","hits":12,"miss":16},{"access":3,"response":"MISS","leftStr":"FirstIn","memory":[1,0,3],"riteStr":"Lastin ","victim":"4","hits":12,"miss":17},{"access":0,"response":"HIT ","leftStr":"FirstIn","memory":[1,0,3],"riteStr":"Lastin ","victim":"-","hits":13,"miss":17},{"access":3,"response":"HIT ","leftStr":"FirstIn","memory":[1,0,3],"riteStr":"Lastin ","victim":"-","hits":14,"miss":17},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[1,0,3],"riteStr":"Lastin ","victim":"-","hits":15,"miss":17},{"access":2,"response":"MISS","leftStr":"FirstIn","memory":[0,3,2],"riteStr":"Lastin ","victim":"1","hits":15,"miss":18},{"access":1,"response":"MISS","leftStr":"FirstIn","memory":[3,2,1],"riteStr":"Lastin ","victim":"0","hits":15,"miss":19},{"access":4,"response":"MISS","leftStr":"FirstIn","memory":[2,1,4],"riteStr":"Lastin ","victim":"3","hits":15,"miss":20},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[2,1,4],"riteStr":"Lastin ","victim":"-","hits":16,"miss":20},{"access":2,"response":"HIT ","leftStr":"FirstIn","memory":[2,1,4],"riteStr":"Lastin ","victim":"-","hits":17,"miss":20},{"access":0,"response":"MISS","leftStr":"FirstIn","memory":[1,4,0],"riteStr":"Lastin ","victim":"2","hits":17,"miss":21},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[1,4,0],"riteStr":"Lastin ","victim":"-","hits":18,"miss":21},{"access":3,"response":"MISS","leftStr":"FirstIn","memory":[4,0,3],"riteStr":"Lastin ","victim":"1","hits":18,"miss":22},{"access":0,"response":"HIT ","leftStr":"FirstIn","memory":[4,0,3],"riteStr":"Lastin ","victim":"-","hits":19,"miss":22},{"access":3,"response":"HIT ","leftStr":"FirstIn","memory":[4,0,3],"riteStr":"Lastin ","victim":"-","hits":20,"miss":22},{"access":1,"response":"MISS","leftStr":"FirstIn","memory":[0,3,1],"riteStr":"Lastin ","victim":"4","hits":20,"miss":23},{"access":2,"response":"MISS","leftStr":"FirstIn","memory":[3,1,2],"riteStr":"Lastin ","victim":"0","hits":20,"miss":24},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[3,1,2],"riteStr":"Lastin ","victim":"-","hits":21,"miss":24},{"access":4,"response":"MISS","leftStr":"FirstIn","memory":[1,2,4],"riteStr":"Lastin ","victim":"3","hits":21,"miss":25},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[1,2,4],"riteStr":"Lastin ","victim":"-","hits":22,"miss":25},{"access":2,"response":"HIT ","leftStr":"FirstIn","memory":[1,2,4],"riteStr":"Lastin ","victim":"-","hits":23,"miss":25},{"access":0,"response":"MISS","leftStr":"FirstIn","memory":[2,4,0],"riteStr":"Lastin ","victim":"1","hits":23,"miss":26},{"access":1,"response":"MISS","leftStr":"FirstIn","memory":[4,0,1],"riteStr":"Lastin ","victim":"2","hits":23,"miss":27},{"access":3,"response":"MISS","leftStr":"FirstIn","memory":[0,1,3],"riteStr":"Lastin ","victim":"4","hits":23,"miss":28},{"access":0,"response":"HIT ","leftStr":"FirstIn","memory":[0,1,3],"riteStr":"Lastin ","victim":"-","hits":24,"miss":28},{"access":3,"response":"HIT ","leftStr":"FirstIn","memory":[0,1,3],"riteStr":"Lastin ","victim":"-","hits":25,"miss":28},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[0,1,3],"riteStr":"Lastin ","victim":"-","hits":26,"miss":28},{"access":2,"response":"MISS","leftStr":"FirstIn","memory":[1,3,2],"riteStr":"Lastin ","victim":"0","hits":26,"miss":29},{"access":1,"response":"HIT ","leftStr":"FirstIn","memory":[1,3,2],"riteStr":"Lastin ","victim":"-","hits":27,"miss":29}]}')

  
  

  ngOnInit(): void {
    this.pagSimulatorAPIService.result$.subscribe(data => {
      this.resultado = data;
      this.resultadoIsEmpty = false;
      this.paso = 0;
    })
  }

  changePaso(paso) {
    this.paso = paso;
    this.pagSimulatorAPIService.step$.emit(this.paso);
  }

}
